<pre style="color:#000000;background:#F2F2F2;"><span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">test-shape
</span>
<span style="color:#3D3D5C; font-weight:bold;">REQUIRE</span> <span style="color:#800000; font-weight:bold;">ffl/tst.fs</span>
<span style="color:#3D3D5C; font-weight:bold;">REQUIRE</span> <span style="color:#800000; font-weight:bold;">shape.fs</span>

<span style="color:#3D3D5C; font-weight:bold;">REQUIRE</span> <span style="color:#800000; font-weight:bold;">ffl/tst.fs</span>
<span style="color:#3D3D5C; font-weight:bold;">REQUIRE</span> <span style="color:#800000; font-weight:bold;">shape.fs</span>
<span style="color:#3D3D5C; font-weight:bold;">HEX</span>
<span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">2</span> <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">3</span> <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">3</span> <span style="color:#800000; font-weight:bold;">2</span> <span style="color:#800000; font-weight:bold;">3</span> <span style="color:#800000; font-weight:bold;">3</span> <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#800000; font-weight:bold;">SHAPE&lt;&lt;XY</span> <span style="color:#800000; font-weight:bold;">SHAPE&lt;&lt;XY</span> <span style="color:#800000; font-weight:bold;">SHAPE&lt;&lt;XY</span> <span style="color:#800000; font-weight:bold;">SHAPE&lt;&lt;XY</span> <span style="color:#800000; font-weight:bold;">SHAPE&lt;&lt;XY</span>
<span style="color:#800000; font-weight:bold;">3323131211</span> <span style="color:#800000; font-weight:bold;">?S</span>
<span style="color:#3D3D5C; font-weight:bold;">BYE</span>
<span style="color:#008000; font-weight:bold;">."</span> <span style="color:#008000; font-weight:bold;">acquiring a shape"</span> <span style="color:#3D3D5C; font-weight:bold;">CR</span>
<span style="color:#800000; font-weight:bold;">T{</span>
<span style="color:#3D3D5C; font-weight:bold;">HEX</span>
<span style="color:#800000; font-weight:bold;">NEW-SHAPE</span>
 <span style="color:#800000; font-weight:bold;">|</span> <span style="color:#800000; font-weight:bold;">##.|</span>
 <span style="color:#800000; font-weight:bold;">|</span> <span style="color:#800000; font-weight:bold;">.#.|</span>
 <span style="color:#800000; font-weight:bold;">|</span> <span style="color:#800000; font-weight:bold;">.#.|</span>
 <span style="color:#800000; font-weight:bold;">|</span> <span style="color:#800000; font-weight:bold;">.#.|</span>
<span style="color:#800000; font-weight:bold;">XYS</span>
<span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">row  col
</span>   <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#800000; font-weight:bold;">?S</span>
   <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span>
   <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span>
   <span style="color:#800000; font-weight:bold;">2</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span>
   <span style="color:#800000; font-weight:bold;">3</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span>

<span style="color:#800000; font-weight:bold;">NEW-SHAPE</span>
 <span style="color:#800000; font-weight:bold;">|</span> <span style="color:#800000; font-weight:bold;">##.|</span>
 <span style="color:#800000; font-weight:bold;">|</span> <span style="color:#800000; font-weight:bold;">.##|</span>
 <span style="color:#800000; font-weight:bold;">|</span> <span style="color:#800000; font-weight:bold;">.#.|</span>
<span style="color:#800000; font-weight:bold;">XYS</span>
<span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">row  col
</span>   <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#800000; font-weight:bold;">?S</span>
   <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span>
   <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span>
   <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">2</span> <span style="color:#800000; font-weight:bold;">?S</span>
   <span style="color:#800000; font-weight:bold;">2</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span>
<span style="color:#800000; font-weight:bold;">}T</span>
<span style="color:#008000; font-weight:bold;">."</span> <span style="color:#008000; font-weight:bold;">translating"</span> <span style="color:#3D3D5C; font-weight:bold;">CR</span>
<span style="color:#800000; font-weight:bold;">T{</span>
<span style="color:#800000; font-weight:bold;">NEW-SHAPE</span>
 <span style="color:#800000; font-weight:bold;">|</span> <span style="color:#800000; font-weight:bold;">##.|</span>
 <span style="color:#800000; font-weight:bold;">|</span> <span style="color:#800000; font-weight:bold;">.##|</span>
 <span style="color:#800000; font-weight:bold;">|</span> <span style="color:#800000; font-weight:bold;">.#.|</span>
<span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">2</span> <span style="color:#800000; font-weight:bold;">(TRANSLATE)</span> <span style="color:#800000; font-weight:bold;">XYS</span>
<span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">row  col
</span>   <span style="color:#800000; font-weight:bold;">2</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span>   <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">....
</span>   <span style="color:#800000; font-weight:bold;">2</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">2</span> <span style="color:#800000; font-weight:bold;">?S</span>   <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">....
</span>   <span style="color:#800000; font-weight:bold;">3</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">2</span> <span style="color:#800000; font-weight:bold;">?S</span>   <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">.##.
</span>   <span style="color:#800000; font-weight:bold;">3</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">3</span> <span style="color:#800000; font-weight:bold;">?S</span>   <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">..##
</span>   <span style="color:#800000; font-weight:bold;">4</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">2</span> <span style="color:#800000; font-weight:bold;">?S</span>   <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">..#.
</span><span style="color:#800000; font-weight:bold;">}T</span>
<span style="color:#008000; font-weight:bold;">."</span> <span style="color:#008000; font-weight:bold;">rotating"</span> <span style="color:#3D3D5C; font-weight:bold;">CR</span>
<span style="color:#800000; font-weight:bold;">T{</span>
<span style="color:#800000; font-weight:bold;">NEW-SHAPE</span>
 <span style="color:#800000; font-weight:bold;">|</span> <span style="color:#800000; font-weight:bold;">##.|</span>
 <span style="color:#800000; font-weight:bold;">|</span> <span style="color:#800000; font-weight:bold;">.##|</span>
 <span style="color:#800000; font-weight:bold;">|</span> <span style="color:#800000; font-weight:bold;">.#.|</span>
<span style="color:#800000; font-weight:bold;">ROTATE</span> <span style="color:#800000; font-weight:bold;">XYS</span>
<span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">row  col
</span>   <span style="color:#800000; font-weight:bold;">2</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#800000; font-weight:bold;">?S</span>
   <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#800000; font-weight:bold;">?S</span>  <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">.#.
</span>   <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span>  <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">###
</span>   <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span>  <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">#..
</span>   <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">2</span> <span style="color:#800000; font-weight:bold;">?S</span>
<span style="color:#800000; font-weight:bold;">}T</span>
<span style="color:#008000; font-weight:bold;">."</span> <span style="color:#008000; font-weight:bold;">flipping"</span> <span style="color:#3D3D5C; font-weight:bold;">CR</span>
<span style="color:#800000; font-weight:bold;">T{</span>
<span style="color:#800000; font-weight:bold;">NEW-SHAPE</span>
 <span style="color:#800000; font-weight:bold;">|</span> <span style="color:#800000; font-weight:bold;">##.|</span>
 <span style="color:#800000; font-weight:bold;">|</span> <span style="color:#800000; font-weight:bold;">.##|</span>
 <span style="color:#800000; font-weight:bold;">|</span> <span style="color:#800000; font-weight:bold;">.#.|</span>
<span style="color:#800000; font-weight:bold;">FLIP</span> <span style="color:#800000; font-weight:bold;">XYS</span>
<span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">row  col
</span>   <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">2</span> <span style="color:#800000; font-weight:bold;">?S</span>
   <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span>  <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">.##
</span>   <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span>  <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">##.
</span>   <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#800000; font-weight:bold;">?S</span>  <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">.#.
</span>   <span style="color:#800000; font-weight:bold;">2</span> <span style="color:#800000; font-weight:bold;">?S</span> <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#800000; font-weight:bold;">?S</span>
<span style="color:#800000; font-weight:bold;">}T</span>
<span style="color:#3D3D5C; font-weight:bold;">BYE</span>
</pre>